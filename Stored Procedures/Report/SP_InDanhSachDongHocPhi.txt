CREATE PROC [dbo].[SP_InDanhSachDongHocPhi]
	@MaLop nchar(8),@NienKhoa nvarchar(12), @HocKy int
AS
BEGIN
	SELECT ROW_NUMBER() OVER(ORDER BY SV.MASV) STT, SV.MASV, HOTEN = HO+' '+TEN, HOCPHI = CASE WHEN HOCPHI IS NULL THEN 0 ELSE HOCPHI END,
		 SOTIENDADONG = CASE WHEN SOTIENDADONG IS NULL THEN 0 ELSE SOTIENDADONG END 
			FROM (SELECT MASV, HO, TEN FROM SINHVIEN WHERE MALOP = @MaLop) SV LEFT OUTER JOIN
				(SELECT MASV,HOCPHI,SOTIENDADONG FROM HOCPHI WHERE NIENKHOA = @NienKhoa and HOCKY = @HocKy) HP 
				ON SV.MASV = HP.MASV
END